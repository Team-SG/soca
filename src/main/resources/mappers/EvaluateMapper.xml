<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="stu.stonebeans.soca.dao.EvaluateDAO">
    <select id="getSubjectData"
            parameterType="string"
            resultType="stu.stonebeans.soca.vo.SubjectVO">
        SELECT * FROM subject WHERE subjectID=#{subjectID}
    </select>

    <select id="getAllMajors"
            resultType="stu.stonebeans.soca.vo.SubjectVO">
        SELECT DISTINCT major FROM subject
    </select>

    <select id="getSubjectsBySub"
            resultType="stu.stonebeans.soca.vo.SubjectVO">
        SELECT DISTINCT subjectNo, code, major FROM subject ORDER BY subjectNo
    </select>

    <select id="getSubjectsByProf"
            resultType="stu.stonebeans.soca.vo.SubjectVO">
        SELECT DISTINCT professor FROM subject ORDER BY professor
    </select>

    <select id="saveEvaluateWrite"
            parameterType="stu.stonebeans.soca.vo.EvaluateVO">
        INSERT INTO evaluate (subjectID,evaluation,grade,quality,gradeSatis,difficulty,homework,coverage,
                              testNum,score1,score2,score3,score4,average1,average2,average3,average4,rank1,rank2,rank3,rank4,
                              commentFinal,commentTest,postTime,recommendNum)
        VALUES(#{subjectID},#{evaluation},#{grade},#{quality},#{gradeSatis},#{difficulty},#{homework},#{coverage},
                                     #{testNum},#{score1},#{score2},#{score3},#{score4},#{average1},#{average2},#{average3},#{average4},#{rank1},#{rank2},#{rank3},#{rank4},
                                     #{commentFinal},#{commentTest},NOW(),0)
    </select>
</mapper>
